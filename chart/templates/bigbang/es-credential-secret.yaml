## Added to upstream chart to support elasticsearch integration
{{- if .Values.elasticsearch.enabled }}
apiVersion: v1
kind: Secret
metadata:
  name: elasticsearch-credentials
  namespace: {{ .Release.Namespace}}
type: Opaque

data:
{{- with lookup "v1" "Secret" (.Values.elasticsearch.namespace | default "logging" )  .Values.elasticsearch.passwordSecret.name }}
  ## TODO: look into templatizing this value, and not hardcoding to "elastic"
  es_password: {{ .data.elastic }}
{{- end }}

{{ end }}
